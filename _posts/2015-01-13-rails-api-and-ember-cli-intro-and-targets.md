---
layout: post
title: "rails-api & ember-cli: Начало"
---
## Вступление
Данная статья начинает цикл статей об интеграции проекта основанного на [rails-api](https://github.com/rails-api/rails-api) с проектом основанном на [ember-cli](https://github.com/ember-cli/ember-cli). Взаимодействие rails и emberjs будет осуществляться посредством стандарта [json:api](http://jsonapi.org/) и стандарта [REST](https://ru.wikipedia.org/wiki/REST). В статьях постараюсь осветить следующие темы:

- обмен данными между frontend и backend;
- система аутентификации пользователя;
- корректная обработка ситуации отсутствия связи с backend, т.е. возможность частичной работы в offline;
- выкатка проектов на боевые сервера при помощи соответствующих инструментов.

## Что будем разрабатывать
В качестве примера будем разрабатывать систему учёта личных финансов. С данной системе есть следующие сущности:

- пользователь (user) - собственно пользователь, который ведёт учёт личных финансов;
- кошелёк (account) - хранит в себе баланс по доходам и расходам;
- операция (operation) - факт дохода или расхода;
- категория операции (category) - список категорий доходов или расходов.

### Пользователь (User)
Пользователь обладает следующими свойствами:

- name (string) - имя пользователя (не может быть пустым);
- email (string) - email пользователя (не может быть пустым и должно иметь валидный формат электронной почты).

### Кошелёк (Account)
Кошелёк обладает следующими свойствами:

- name (string) - наименование кошелька (не может быть пустым);
- balance (decimal) - баланс кошелька (по умолчанию равно 0);
- user (User) - пользователь, который владеет кошельком (обязательное поле - кошелёк должен быть привязан к пользователю);
- operations (Operation[]) - список операций, которые относятся к данному кошельку (сумма сумм операций должна быть равна балансу кошелька).

### Операция (Operation)
Операция обладает следующими свойствами:

- heldDate (datetime) - дата и время совершения операции (обязательное поле, может иметь любое значение даты и времени);
- amount (decimal) - сумма операции (если отрицательное число, то это операция расхода, если положительное число, то это операция дохода, 0 - недопустимое значение);
- account (Account) - кошелёк, к которому относится операция (обязатльное поле - операция должна быть привязана к кошельку);
- category (Category) - категория, к которой относится операция (обязательное поле - операция должна быть привязана к категории);
- description (text) - описание операции (необязательное поле).

### Категория операции (Category)
Категория операции обладает следующими свойствами:

- name (string) - имя категории (не может быть пустым);
- type (integer) - тип категории (если 0, то это категория расхода, если 1, то это категория дохода).

В следующей статье реализуем backend на rails-api, но пока без проверки того, что пользователь вошёл в систему.